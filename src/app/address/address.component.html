<div [formGroup]="parentFormGroup">
<div formArrayName="addresses">
<div *ngFor="let address of addresses.controls; let i = index" [formGroupName]="i">
    <h4>Address {{ i + 1 }}</h4>
    <mat-form-field appearance="fill">
        <mat-label>Street</mat-label>
        <input matInput formControlName="street" placeholder="Street">
        <mat-error *ngIf="addresses.at(i).get('street')!.hasError('required')">Street is required.</mat-error>
      </mat-form-field>
  
      <mat-form-field appearance="fill">
        <mat-label>City</mat-label>
        <input matInput formControlName="city" placeholder="City">
        <mat-error *ngIf="addresses.at(i).get('city')!.hasError('required')">City is required.</mat-error>
      </mat-form-field>
  
      <mat-form-field appearance="fill">
        <mat-label>Zip</mat-label>
        <input matInput formControlName="zip" placeholder="Zip Code">
        <mat-error *ngIf="addresses.at(i).get('zip')!.hasError('required')">Zip code is required.</mat-error>
      </mat-form-field>
  
      <button mat-raised-button color="warn" type="button" (click)="removeAddress(i)">Remove</button>
  </div>
  </div>
  </div>
  <button mat-raised-button color="primary" type="button" (click)="addAddress()">Add another address</button>
  